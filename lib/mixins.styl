/**
 * Module dependencies
 */

@require './variables'

/**
 * Define variables for `border-radius` transparent mixin,
 * including vendor prefix preferences.
 */

border-radius--mixin-allow  ?= true
border-radius--webkit       ?= true
border-radius--moz          ?= true

/**
 * Apply transparent mixin to
 *   - `border-radius`
 *   - `border-radius-top`
 *   - `border-radius-right`
 *   - `border-radius-bottom`
 *   - `border-radius-left`
 *
 * Example:
 *
 *   ```stylus
 *   button
 *     border-radius-top base
 *   ```
 *
 *   ```css
 *   button {
 *     border-radius-top: 2px;
 *   }
 *   ```
 */

if border-radius--mixin-allow is true
  border-radius(n)
    border-radius--mixin(n)
  border-radius-top(n)
    border-radius--mixin(n)
  border-radius-right(n)
    border-radius--mixin(n)
  border-radius-bottom(n)
    border-radius--mixin(n)
  border-radius-left(n)
    border-radius--mixin(n)

/**
 * Replace arguments in `border-radius`
 * with `border-radius--` variables, if matching.
 * Also provide vendor prefixes.
 *
 * @mixin
 */

border-radius--mixin(arg)
  add-property(current-property[0], (lookup('border-radius--' + arg) or arg))
